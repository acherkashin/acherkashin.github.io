---
layout: ../../layouts/post.astro
title: –ö–∞–∫ –º—ã –º–∏–≥—Ä–∏—Ä—É–µ–º —Å JQuery –Ω–∞ React
pubDate: 2024-12-10
excerpt: –í–æ–∫—Ä—É–≥ –≤—Å–µ –≥–æ–≤–æ—Ä—è—Ç –æ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Ä–µ–∞–∫—Ç–∞, –æ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ, –∏ —Ä–∞–∑–Ω—ã—Ö –Ω–æ–≤—à–µ—Å—Ç–≤–∞—Ö –≤ –º–∏—Ä–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ. –ö–∞–∫ –±—É–¥—Ç–æ JQuery –≤ –æ–¥–∏–Ω –º–∏–≥ –≤–∑—è–ª –∏ –∏—Å—á–µ–∑. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∏ –Ω–∞ —á—Ç–æ –æ–Ω –≤—Å—ë –µ—â—ë –æ—Å—Ç–∞—ë—Ç—Å—è —Å–∞–º–æ–π –ø–æ–ø—É–ª—è—Ä–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π üòÖ.
image:
  src:
  alt:
tags: ['react', 'jquery']
---
import TitledImage from '../../components/TitledImage.astro';

–í–æ–∫—Ä—É–≥ –≤—Å–µ –≥–æ–≤–æ—Ä—è—Ç –æ —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö —Ä–µ–∞–∫—Ç–∞, –æ —Å–µ—Ä–≤–µ—Ä–Ω–æ–º —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ, –∏ —Ä–∞–∑–Ω—ã—Ö –Ω–æ–≤—à–µ—Å—Ç–≤–∞—Ö –≤ –º–∏—Ä–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ. –ö–∞–∫ –±—É–¥—Ç–æ JQuery –≤ –æ–¥–∏–Ω –º–∏–≥ –≤–∑—è–ª –∏ –∏—Å—á–µ–∑. –ù–µ—Å–º–æ—Ç—Ä—è –Ω–∏ –Ω–∞ —á—Ç–æ –æ–Ω –≤—Å—ë –µ—â—ë [–æ—Å—Ç–∞—ë—Ç—Å—è —Å–∞–º–æ–π –ø–æ–ø—É–ª—è—Ä–Ω–æ–π](https://trends.builtwith.com/javascript/jQuery) –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π üòÖ.

–°–µ–≥–æ–¥–Ω—è —è –≤–∞–º —Ä–∞—Å—Å–∫–∞–∂—É, –∫–∞–∫ –º—ã –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –º–∏–≥—Ä–∏—Ä—É–µ–º —Å JQuery –Ω–∞ React.

<TitledImage src="/migration-from-jquery-to-react/jquery-in-2024-meme.png" alt=""/>

–ï—Å–ª–∏ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏—Ç—Å—è —ç—Ç–∞ —Å—Ç–∞—Ç—å—è, –∑–∞–≥–ª—è–Ω–∏—Ç–µ –≤ –º–æ–π [Telegram-–∫–∞–Ω–∞–ª](https://t.me/cherkashindev) ‚Äî —Ç–∞–º —è –¥–µ–ª—é—Å—å –ø–æ–ª–µ–∑–Ω—ã–º–∏ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –∏ –º—ã—Å–ª—è–º–∏ –æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏.
# –ü–æ—á–µ–º—É –º–∏–≥—Ä–∏—Ä—É–µ–º

–¢—É—Ç –≤—Å—ë –¥–æ–≤–æ–ª—å–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ:

- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏–¥—ë—Ç –º–µ–¥–ª–µ–Ω–Ω–æ
- –ö–æ–¥ —Å–ª–æ–∂–Ω–æ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- XXS —É—è–∑–≤–∏–º–æ—Å—Ç–∏ –ø–æ–¥—Å—Ç–µ—Ä–µ–≥–∞—é—Ç –Ω–∞ –∫–∞–∂–¥–æ–º —à–∞–≥—É
- –°–ª–æ–∂–Ω–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å NPM –∏–∑-–∑–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤ –∏–º—ë–Ω (namespace) –≤ TypeScript

## –ò—Å—Ö–æ–¥–Ω—ã–π —Å—Ç–µ–∫

–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞—á–∞–ª–∞—Å—å –ø—Ä–∏–º–µ—Ä–Ω–æ –≤ 2019 –≥–æ–¥—É. –ù–∞—à —Å—Ç–µ–∫ –≤—ã–≥–ª—è–¥–µ–ª –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:
- [ASP.NET](http://ASP.NET) Core
- JQuery
- TypeScript c [–ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω](https://www.typescriptlang.org/docs/handbook/namespaces.html) –≤–º–µ—Å—Ç–æ ESM
- –ù–µ–º–Ω–æ–≥–æ Vanilla JS
- LESS –¥–ª—è —Å—Ç–∏–ª–µ–π

–í–µ—Å—å —ç—Ç–æ—Ç —Å—Ç–µ–∫ –≤–∞–∂–µ–Ω, –≤–µ–¥—å –∫–∞–∂–¥–∞—è –∏–∑ –µ–≥–æ —á–∞—Å—Ç–µ–π –Ω–∞–∫–ª–∞–¥—ã–≤–∞–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è, –æ—Ç –∫–æ—Ç–æ—Ä—ã—Ö –∑–∞–≤–∏—Å—è—Ç –ø—Ä–∏–Ω–∏–º–∞–µ–º—ã–µ —Ä–µ—à–µ–Ω–∏—è. 

–ü—Ä–µ–∂–¥–µ —á–µ–º –≥–æ–≤–æ—Ä–∏—Ç—å –æ –º–∏–≥—Ä–∞—Ü–∏–∏, –¥–∞–≤–∞–π—Ç–µ —Ä–∞—Å—Å–∫–∞–∂—É, –∫–∞–∫ –º—ã –ø–∏—Å–∞–ª–∏ –∫–æ–¥ –¥–æ React.
–ï—Å–ª–∏ –Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ ‚Äî —Å—Ä–∞–∑—É –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –æ—Å–Ω–æ–≤–Ω–æ–π —á–∞—Å—Ç–∏ (—Ç—É—Ç –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —è–∫–æ—Ä–Ω—É—é —Å—Å—ã–ª–∫—É).

## –ñ–∏–∑–Ω—å –¥–æ —Ä–µ–∞–∫—Ç–∞ ‚Äî JQuery

–í —É–ø—Ä–æ—â—ë–Ω–Ω–æ–º –≤–∏–¥–µ –Ω–∞—à–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤—ã–≥–ª—è–¥–µ–ª–∏ –≤–æ—Ç —Ç–∞–∫:

```ts
namespace App.Components {
	export interface ComboBoxProps {
		container: JQuery;
		items: ComboBoxItem[];
		renderOption: (item: ComboBoxItem) => JQuery;
	}
	
	export class ComboBox {
		constructor(private props: ComboBoxProps) {
			// —Å–æ–∑–¥–∞—ë–º —Ä–∞–∑–º–µ—Ç–∫—É –∏ —Ä–µ–Ω–¥–µ—Ä–∏–º –µ–≥–æ –≤ container
			this.container.append(this.render());
		}

		private render(): JQuery {
			const viewItems = this.props.items.map(this.props.renderOption);
			// ... —Å–æ–∑–¥–∞—ë–º —Ä–∞–∑–º–µ—Ç–∫—É
			return view;
		}

		setItems() { /* ... */ }
		enable() { /* ... */ }
		disable() { /* ... */ }
	}
}
```

–ú—ã —Å –∑–∞–≤–∏—Å—Ç—å—é —Å–º–æ—Ç—Ä–µ–ª–∏ –Ω–∞ React, –ø–æ—ç—Ç–æ–º—É –ø–∏—Å–∞–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –ø–æ—Ö–æ–∂–µ–º —Å—Ç–∏–ª–µ:
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ø—Ä–æ–ø—Å–∞–º–∏
- –ú–µ—Ç–æ–¥ render
- Render Props —Ñ—É–Ω–∫—Ü–∏–∏ 

## –ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–µ–π–º—Å–ø–µ–π—Å—ã

–ï—Å–ª–∏ –≤—ã –∑–Ω–∞–∫–æ–º—ã —Å C# –∏–ª–∏ –¥–∞–≤–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ TypeScript, —Ç–æ –¥–æ–ª–∂–Ω—ã –∑–Ω–∞—Ç—å —á—Ç–æ —Ç–∞–∫–æ–µ –Ω–µ–π–º—Å–ø–µ–π—Å—ã. –ü—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –æ–Ω–∏ –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ JavaScript –æ–±—ä–µ–∫—Ç, –∞ –≤—Å–µ `export`-—ç–ª–µ–º–µ–Ω—Ç—ã –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º—ë–Ω —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏ —ç—Ç–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞. 

–ù–∞–ø—Ä–∏–º–µ—Ä:
```tsx
namespace Personnel {
    export class Employee {
     
        constructor(public name: string){
        }
    }
}
 
let alice = new Personnel.Employee("Alice");
console.log(alice.name);    // Alice
```


–ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ [IIFE](https://developer.mozilla.org/en-US/docs/Glossary/IIFE):

```js
var¬†Personnel;
(function¬†(Personnel)¬†{

¬†¬†¬†¬†class¬†Employee¬†{
¬†¬†¬†¬†¬†¬†¬†¬†constructor(name)¬†{
¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†¬†this.name¬†=¬†name;
¬†¬†¬†¬†¬†¬†¬†¬†}
¬†¬†¬†¬†}

¬†¬†¬†¬†Personnel.Employee¬†=¬†Employee;

})(Personnel¬†||¬†(Personnel¬†=¬†{}));

let¬†alice¬†=¬†new¬†Personnel.Employee("Alice");
console.log(alice.name);¬†//¬†Alice

```

## React-like –∫–æ–Ω—Ç–µ–∫—Å—Ç

–ú—ã –¥–∞–∂–µ –∏–∑–æ–±—Ä–µ–ª–∏ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ React –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞. –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ DOM-—ç–ª–µ–º–µ–Ω—Ç–µ, —Å –ø–æ–º–æ—â—å—é JQuery –º–µ—Ç–æ–¥–∞ `$('.container').data(dataName, value)`. –ê –¥–æ—Å—Ç–∞—é—Ç—Å—è (–∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ React-–∫–æ–Ω—Ç–µ–∫—Å—Ç—É) –∏–∑ –ª—é–±–æ–≥–æ –¥–æ—á–µ—Ä–Ω–æ–≥–æ DOM —É–∑–ª–∞ —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `findData`.

```ts
export function findData(element: JQuery, dataName: string) {
	if (!element) {
		return null;
	}

	const data = element.data(dataName);	
	if (data) {
		return data;
	}

	const dataOwner = element.closest(`:data("${dataName}")`);
	if (dataOwner) {
		return dataOwner.data(dataName);
	}
	return null;
}
```

# –ú–∏–≥—Ä–∞—Ü–∏—è
## –ü–æ—á–µ–º—É React?

–ú—ã –Ω–µ —Å–æ–±–∏—Ä–∞–ª–∏—Å—å –ø–µ—Ä–µ–ø–∏—Å—ã–≤–∞—Ç—å –≤—Å—ë —Å –Ω—É–ª—è, –ø–æ—ç—Ç–æ–º—É Angular –Ω–∞–º —Ç–æ—á–Ω–æ –Ω–µ –ø–æ–¥—Ö–æ–¥–∏–ª ‚Äî –≤—ã–±–æ—Ä —Å—Ç–æ—è–ª –º–µ–∂–¥—É React –∏ Vue. –¢–∞–∫ –∫–∞–∫ —É –Ω–∞—Å –≤ –∫–æ–º–∞–Ω–¥–µ –±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Å –æ–ø—ã—Ç–æ–º –º–∏–≥—Ä–∞—Ü–∏–∏ —Å JQuery –Ω–∞ React, —Ç–æ –≤—ã–±–æ—Ä –ø–∞–ª –∏–º–µ–Ω–Ω–æ –Ω–∞ –Ω–µ–≥–æ.

## –ü–æ–¥—Ö–æ–¥ –∫ –º–∏–≥—Ä–∞—Ü–∏–∏

–î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ –≤ –æ–¥–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–π–º—Å–ø–µ–π—Å—ã –∏ ES-–º–æ–¥—É–ª–∏. –ù–∏–∫–∞–∫–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –¥–ª—è –∞–≤—Ç–æ-–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Ç–æ–∂–µ –Ω–µ—Ç. –ö–æ–º–∞–Ω–¥–∞ [TypeScript –ø–∏—Å–∞–ª–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç](https://devblogs.microsoft.com/typescript/typescripts-migration-to-modules/) –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã TypeScript'–∞ (TypeScript –Ω–∞–ø–∏—Å–∞–Ω –Ω–∞ TypeScript'–µ!) –Ω–∞ –º–æ–¥—É–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ AST.

–í –æ–±—â–µ–º, –Ω–µ –ø–æ–ª—É—á–∏—Ç—Å—è –ø—Ä–æ—Å—Ç–æ –≤–∑—è—Ç—å –∏ –¥–æ–±–∞–≤–∏—Ç—å React –≤ —Ç–æ—Ç –∂–µ –ø—Ä–æ–µ–∫—Ç. –ò —É –Ω–∞—Å –±—ã–ª–æ 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞:
1. –ü–µ—Ä–µ–ø–∏—Å—ã–≤–∞–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –Ω–∞ ES-–º–æ–¥—É–ª–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º React
2. –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –≥–¥–µ –ø–∏—Å–∞—Ç—å –±—É–¥–µ–º —Ç–æ–ª—å–∫–æ –Ω–∞ —Ä–µ–∞–∫—Ç–µ. –ù–∏–∫–∞–∫–æ–≥–æ JQuery!

<TitledImage src="/migration-from-jquery-to-react/react-integration-approaches.png" alt="–ü–æ–¥—Ö–æ–¥—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Ä–µ–∞–∫—Ç–∞"/>

–ù–æ —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –∫–æ–¥–æ–≤–∞—è –±–∞–∑–∞ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–æ–ª—å—à–∞—è, –ø–æ—ç—Ç–æ–º—É –º—ã —Ä–µ—à–∏–ª–∏ –∏–¥—Ç–∏ –≤—Ç–æ—Ä—ã–º –ø—É—Ç—ë–º.

–ü–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ –æ–ø—Ä–µ–¥–µ–ª–∏–ª–∏—Å—å —Å –ø–æ–¥—Ö–æ–¥–æ–º —Ä–µ—à–∏–ª–∏ –Ω–µ –ø–∏—Å–∞—Ç—å webpack-–∫–æ–Ω—Ñ–∏–≥ —Å –Ω—É–ª—è ‚Äî –ø—Ä–æ—Å—Ç–æ –≤–∑—è–ª–∏ Create React App (CRA) –∏ —Å–¥–µ–ª–∞–ª–∏ Eject. –ü–æ—Ç–æ–º –º—ã [—Å–¥–µ–ª–∞–ª–∏ —Ñ–æ—Ä–∫](https://create-react-app.dev/docs/alternatives-to-ejecting), —á—Ç–æ–±—ã –±—ã–ª–æ –ø—Ä–æ—â–µ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –Ω–∞ –Ω–æ–≤—ã–µ –≤–µ—Ä—Å–∏–∏, —Ç–æ–≥–¥–∞ CRA –±—ã–ª –µ—â—ë –∂–∏–≤ ü™¶.

## –û—Ç–¥–µ–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç ‚Äî –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–ü—Ä–æ —Ä–µ–∞–∫—Ç –∏–∑ –∫–∞–∂–¥–æ–≥–æ —É—Ç—é–≥–∞ –≥–æ–≤–æ—Ä—è—Ç, —á—Ç–æ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ View —Å–ª–æ–π, –ø–æ—ç—Ç–æ–º—É –µ–≥–æ –º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ. 

–ú—ã —Ä–µ—à–∏–ª–∏, —á—Ç–æ –Ω–∞—à —Ä–µ–∞–∫—Ç –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç —Å–≤–æ–µ–≥–æ —Ä–æ–¥–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.
–¢–æ –µ—Å—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –º—ã –ø–∏—à–µ–º –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ –∏ –ø—Ä–æ—Å—Ç–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π. –î–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ —Ä–µ–∞–∫—Ç-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ DOM-–¥–µ—Ä–µ–≤–æ, –Ω–∞–º –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `createRoot` (–¥–æ React18 ‚Äî `ReactDOM.render`).

 –í—Å–µ –≤—ã –≤–∏–¥–µ–ª–∏ —Å–ª–µ–¥—É—é—â–∏–π –∫–æ–¥:
```js
import { createRoot } from 'react-dom/client';

const rootElement = document.getElementById("root")!;
const root = createRoot(container);

root.render(<App />);
```

–ò–º–µ–Ω–Ω–æ –æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `index.tsx` —Ñ–∞–π–ª–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞. –¢–æ—á–Ω–æ —Ç–∞–∫–∂–µ –º—ã –∏ –±—É–¥–µ–º –≤—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–∞—à–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

<TitledImage src="/migration-from-jquery-to-react/createroot-examples.png" alt="–í—Å—Ç—Ä–∞–∏–≤–∞–Ω–∏–µ —Ä–µ–∞–∫—Ç –∫–º–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ"/>

–í React17 –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `ReactDOM.render`, –≥–ª–∞–≤–Ω–æ–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ DOM-—ç–ª–µ–º–µ–Ω—Ç. –ü—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ React 18 –Ω–∞–º –ø—Ä–∏—à–ª–æ—Å—å –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é-–æ–±—ë—Ä—Ç–∫—É `renderComponent` –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `createRoot()`. –ö–æ–¥ —Ü–µ–ª–∏–∫–æ–º –º–æ–∂–Ω–æ [–Ω–∞–π—Ç–∏ –∑–¥–µ—Å—å](https://github.com/acherkashin/webpack-lib/blob/main/src/utils/RenderUtils.tsx).

```tsx
import { Root } from 'react-dom/client';

const roots = new Map<HTMLElement, Root>();

export async function renderComponent({ container, component, autoUnmount }: IRenderComponentProps) {
    const { createRoot } = await import('react-dom/client');
    const isUpdate = roots.has(container);
    const root = isUpdate ? roots.get(container)! : createRoot(container);

    if (!isUpdate) {
        roots.set(container, root);
        if (autoUnmount) {
            onDetach(container, () => unMount(container));
        }
    }

    try {
        root.render(component);
    } catch (e) { }
}
```

–í–µ—Å—å –ø—É–±–ª–∏—á–Ω—ã–π API –Ω–∞—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ñ–∞–π–ª–µ `library.tsx`. –í –æ—Å–Ω–æ–≤–Ω–æ–º —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏–∏-–æ–±—ë—Ä—Ç–∫–∏ –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∞ —Ä–µ–∞–∫—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–≥–ª—è–¥—è—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```tsx
export async function renderAppHeader(props: AppHeaderProps, container: HTMLElement) {
    const { AppHeader } = await import('./components/AppHeader');

    return renderComponent({
        container,
        component: <AppHeader {...props} />,
        autoUnmount: true
    });
}
```

–¢—É—Ç –∂–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º [–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã](https://webpack.js.org/guides/code-splitting/#dynamic-imports) –¥–ª—è –∫–æ–¥ —Å–ø–ª–∏—Ç–∏–Ω–≥–∞, —á—Ç–æ–±—ã –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å –∫–æ–¥ –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏.

–ù–µ–¥–∞–≤–Ω–æ –Ω–∞—Ç–∫–Ω—É–ª—Å—è –Ω–∞ —Å—Ç–∞—Ç—å—é [The anatomy of a React Island](https://swizec.com/blog/the-anatomy-of-a-react-island/), –≥–¥–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è —Ç–∞–∫–æ–π –∂–µ –ø–æ–¥—Ö–æ–¥.

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Webpack

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é Create React App ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏ —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –∏–∑ –Ω–µ–≥–æ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –º—ã –Ω–µ–º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–∏–ª–∏ webpack-–∫–æ–Ω—Ñ–∏–≥. –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞—Ç—å CRA –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º—ã —Ç–∞–∫–∂–µ –æ—Å—Ç–∞–≤–∏–ª–∏, –Ω–æ –¥–ª—è —á–µ–≥–æ ‚Äî –Ω–µ–º–Ω–æ–≥–æ –ø–æ–∑–∂–µ.

–£–ø—Ä–æ—â–µ–Ω–Ω–æ –∫–æ–Ω—Ñ–∏–≥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```js
const { WebpackManifestPlugin } = require('webpack-manifest-plugin');

module.exports = {
  entry: {
    'lib': './src/library.tsx'
  },
  output: {
    filename: '[name].[contenthash:8].js',
    library: {
      name: 'myLib',
      type: 'umd',
    },
    clean: true,
  },
  plugins: [
    new WebpackManifestPlugin({
      fileName: 'asset-manifest.json',
      publicPath: './',
    }),
  ],
};
```

–ë—ã—Å—Ç—Ä–æ –ø—Ä–æ–±–µ–∂–∏–º—Å—è –ø–æ –∫–æ–Ω—Ñ–∏–≥—É.

`entry: { 'lib': './src/library.tsx' }`  ‚Äî `src/library.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –Ω–∞—à–µ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏. –¢—É—Ç –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ. 
–ü–æ—Å–ª–µ –±–∏–ª–¥–∞ –º—ã –ø–æ–ª—É—á–∏–º —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `lib.[contenthash].js` (–Ω–∞–ø—Ä–∏–º–µ—Ä, `lib.94c4847c.js`), –∫–æ—Ç–æ—Ä—ã–π –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø–æ–¥–≥—Ä—É–∑–∏—Ç—å –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ.

`output.library.name`: 'myLib' ‚Äî –∏–º—è –æ–±—ä–µ–∫—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –≤—Å—ë, —á—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –∏–∑ `library.tsx`.

`output.library.type`: ['umd'](https://webpack.js.org/configuration/output/#librarytarget-umd), —Ç–∏–ø –º–æ–¥—É–ª–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∑–∞–≥—Ä—É–∑—á–∏–∫–æ–≤. –ù–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç —Ç–æ–ª—å–∫–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π –∫–∞–∫ —Å –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, –ø–æ—ç—Ç–æ–º—É –∑–Ω–∞—á–µ–Ω–∏—è [window](https://webpack.js.org/configuration/output/#librarytarget-window) –∏–ª–∏ [var](https://webpack.js.org/configuration/output/#type-var) —Ç–æ–∂–µ –±—ã –ø–æ–¥–æ—à–ª–∏.

–ü—Ä–æ—â–µ –≥–æ–≤–æ—Ä—è, –≤—Å—ë, —á—Ç–æ –º—ã —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∏–∑ `src/library.tsx` –±—É–¥–µ—Ç —É–ø–∞–∫–æ–≤–∞–Ω–æ –≤ –æ–±—ä–µ–∫—Ç `myLib` –∏ –¥–æ—Å—Ç—É–ø–Ω–æ –≥–ª–æ–±–∞–ª—å–Ω–æ. –í —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ –º—ã —Å–º–æ–∂–µ–º –≤—ã–∑–≤–∞—Ç—å `renderAppHeader` –≤–æ—Ç —Ç–∞–∫:

```js
myLib.renderAppHeader(document.getElementById('header-container'), {
	title: 'Cool App',
	// –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–ø—Å—ã ...
})
```

## –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –µ—Å—Ç—å, –Ω–æ –∫–∞–∫ –µ—ë –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –ø—Ä–æ–µ–∫—Ç?

–û–±—ã—á–Ω–æ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–∫—Ä–∏–ø—Ç–æ–≤ –≤ `index.html` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `HtmlWebpackPlugin` , —ç—Ç–æ –æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ, –∞ –∫–æ–≥–¥–∞ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º [`contenthash`](https://webpack.js.org/guides/caching/#output-filenames) ‚Äî –∂–∏–∑–Ω–µ–Ω–Ω–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ. 

–ù–æ –º—ã –Ω–µ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –Ω—É–ª—è. –ú—ã –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ–º —Ä–µ–∞–∫—Ç –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–µ ASP.NET –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –≥–¥–µ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ä–∞–∑–º–µ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä Razor, –∞ —Ñ–∞–π–ª—ã –∏–º–µ—é—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ cshtml. –ü—Ä–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ ASP.NET –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, cshtml —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –≤–∫–ª—é—á–µ–Ω—ã –≤ dll —Å–±–æ—Ä–∫—É.

–ú—ã –º–æ–≥–ª–∏ –±—ã –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å cshtml —Ñ–∞–π–ª —Å –ø–æ–º–æ—â—å—é `HtmlWebpackPlugin`'–∞ –∏ –∑–∞—Ç–µ–º –ø–æ–¥–∫–ª—é—á–∞—Ç—å –µ–≥–æ —á–µ—Ä–µ–∑ `Html.PartialAsync`.

```cs
@await Html.PartialAsync("~/Views/load-lib.cshtml")
```


–ù–æ —Ç–æ–≥–¥–∞, –Ω–∞ –∫–∞–∂–¥—ã–π –±–∏–ª–¥–∞ —Ñ—Ä–æ–Ω—Ç–∞, –Ω–∞–º –ø—Ä–∏–¥—ë—Ç—Å—è –∑–∞–ø—É—Å–∫–∞—Ç—å –∏ –±–∏–ª–¥ ASP.NET –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í—Å—ë –∏–∑-–∑–∞ —Ç–æ–≥–æ, —á—Ç–æ –∏–º–µ–Ω–∞ `js` —Ñ–∞–π–ª–æ–≤ –±—É–¥—É—Ç –≤—Å—ë –≤—Ä–µ–º—è –º–µ–Ω—è—Ç—å—Å—è –∏–∑-–∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è contenthash'–∞. –ò–∑–±–µ–∂–∞—Ç—å —ç—Ç–æ–≥–æ –Ω–∞–º –ø–æ–º–æ–∂–µ—Ç "[–º–∞–Ω–∏—Ñ–µ—Å—Ç](https://webpack.js.org/concepts/manifest/)", –¥–ª—è —ç—Ç–æ–≥–æ –Ω–∞–º –∏ –Ω—É–∂–µ–Ω `WebpackManifestPlugin` –≤ –∫–æ–Ω—Ñ–∏–≥–µ –≤—ã—à–µ. 

–ú–∞–Ω–∏—Ñ–µ—Å—Ç –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–æ—Ç —Ç–∞–∫ (–Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –ø—Ä–æ–µ–∫—Ç–µ –æ–Ω –±—É–¥–µ—Ç –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª—å—à–µ):
```json
{
  "lib.js": "./lib.ee28b5fb.js",
  "react-dom.js": "./react-dom.bb6590f2.js",
  "account-dialog.js": "./account-dialog.5333e5e6.js",
  "index.html": "./index.html"
}
```

–û–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –Ω–∞—à–µ–≥–æ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–∞–Ω–¥–ª–∞ `my-lib.js` –∏ –ø—É—Ç—å —Å —Å–∞–º–æ–º—É —Ñ–∞–π–ª—É `./my-lib.ee28b5fb.js `. –° –ø–æ–º–æ—â—å—é –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞ –º—ã –º–æ–∂–µ–º —Å—á–∏—Ç–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –±–∞–Ω–¥–ª–∞ –∏ –ø–æ–¥–≥—Ä—É–∑–∏—Ç—å –µ–≥–æ.


```csharp
// load-lib.cshtml

@using Newtonsoft.Json.Linq
@{
    const string manifestPath = "./path/to/dist/asset-manifest.json";
    string assetManifestString = await System.IO.File.ReadAllTextAsync(manifestPath);
    JObject assetManifest = JObject.Parse(assetManifestString);

    string myLibChunkName = assetManifest.SelectToken("['lib.js']")?.Value<string>();
}

<script src="~/@myLibChunkName"></script>
```

–í –∏—Ç–æ–≥–µ, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –≤—ã–≥–ª—è–¥–∏—Ç –≤–æ—Ç —Ç–∞–∫

<TitledImage src="/migration-from-jquery-to-react/react-integration-schema.png" alt=""/>

## –ù–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ –≤–∑—è—Ç—å –∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å

–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –æ—Ç –ª–µ–≥–∞—Å–∏ "–Ω–µ —Å–ø—Ä—è—Ç–∞—Ç—å—Å—è –Ω–µ —Å–∫—Ä—ã—Ç—å—Å—è, ...". –ù–∞–ø—Ä–∏–º–µ—Ä, –∏–Ω–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ JQuery –≤–Ω—É—Ç—Ä–∏ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.

<TitledImage src="/migration-from-jquery-to-react/boromir-meme.png" alt=""/>

–í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –º—ã –ø—Ä–æ—Å—Ç–æ –ø–∏—à–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã-–æ–±—ë—Ä—Ç–∫–∏. –£–ø—Ä–æ—â—ë–Ω–Ω–æ –æ–Ω–∏ –≤—ã–≥–ª—è–¥—è—Ç –≤–æ—Ç —Ç–∞–∫.

```tsx
function Calendar(props: CalendarProps) {
	const ref = useRef<HTMLDivElement>(null);

	useEffect(() => {
		Components.Common.createCalendar({
			container: ref.current,
			...props
		});
	}, [])

	return <div ref={ref}></div>;
}
```

## –ö–∞—Å—Ç–æ–º–Ω—ã–π Typescript –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∏ –º—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—à—É –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ. –ù–æ –ø—Ä–æ –∫–æ–µ-—á—Ç–æ –º—ã –∑–∞–±—ã–ª–∏. –ú—ã –∑–∞–±—ã–ª–∏ –ø—Ä–æ —Ç–∏–ø—ã! 

–ú—ã –ª—é–±–∏–º TypeScript, –∏ –Ω–µ –ª—é–±–∏–º –ø–∏—Å–∞—Ç—å –∫–æ–¥ –±–µ–∑ –∞–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤. CRA –∏—Å–ø–æ–ª—å–∑—É–µ—Ç babel –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º, –≤ –∫–æ—Ç–æ—Ä–æ–º –Ω–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –∏ –ø–æ—Ç–æ–º—É –Ω–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å `.d.ts` —Ñ–∞–π–ª—ã. –ü–æ—ç—Ç–æ–º—É –≤–æ –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º  `tsc` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤. 

```shell
tsc -p generate-types-tsconfig.json
```

–í –ø—Ä–∏–Ω—Ü–∏–ø–µ, —Ç–∞–∫–æ–π –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ TypeScript ‚Äî [Babel for transpiling, tsc for types](https://www.typescriptlang.org/docs/handbook/babel-with-typescript.html#babel-for-transpiling-tsc-for-types). 

–ö–æ–Ω—Ñ–∏–≥ –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –≤–æ—Ç —Ç–∞–∫:

```json
// generate-types-tsconfig.json
{
	"include": [
		"src/library.tsx"
	],
	"compilerOptions": {
		"declaration": true,
		"emitDeclarationOnly": true,
		"moduleResolution": "bundler",
		"module": "es2022",
		"outFile": "./dist/types.d.ts",
		"jsx": "react"
	},
	"exclude": [
		"node_modules"
	]
}
```

- `declaration`, `emitDeclarationOnly` - —É–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –Ω–∞–º –Ω—É–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã —Ç–∏–ø–æ–≤
- `outFile` - –ø—É—Ç—å, –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω —Ñ–∞–π–ª —Å —Ç–∏–ø–∞–º–∏
- `moduleResolution`, `module` - –Ω—É–∂–Ω—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–º–ø–æ—Ä—Ç–æ–≤

–§–∞–π–ª —Å —Ç–∏–ø–∞–º–∏ –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å –≤–æ—Ç —Ç–∞–∫:

```ts
/// <reference types="react" />
declare module "components/AppHeader" {
    import React from "react";
    export interface AppHeaderProps {
        title: string;
    }
    export function AppHeader({ title }: AppHeaderProps): React.JSX.Element;
}
declare module "library" {
    import { type AppHeaderProps } from "components/AppHeader";
    export function renderAppHeader(props: AppHeaderProps, container: HTMLElement): Promise<void>;
}

```

–ù–æ —ç—Ç–æ –µ—â—ë –Ω–µ –≤—Å—ë. –ü–æ–º–Ω–∏—Ç–µ, –º—ã —É–∫–∞–∑–∞–ª–∏ –∏–º—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `myLib`? –¢–∞–∫ `tsc` –æ–± —ç—Ç–æ–º –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç. –ö–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –º—ã –ø—Ä–æ—Å—Ç–æ –≤–∑—è–ª–∏ –∏ —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–æ–∫:
1. —É–¥–∞–ª–∏–ª–∏ `} declare module "path/to/mo"` 
2. –æ—Å—Ç–∞–≤—à–∏–π—Å—è –∏–º–ø–æ—Ä—Ç (–ø–µ—Ä–µ–¥ –∫–æ—Ç–æ—Ä—ã–º –Ω–µ–º `}`) –∑–∞–º–µ–Ω–∏–ª–∏ –Ω–∞ `declare module myLib`
3. —É–¥–∞–ª–∏–ª–∏ –≤–æ–æ–±—â–µ –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã

–í –∏—Ç–æ–≥–µ –ø–æ–ª—É—á–∏–ª–∏:

```ts
/// <reference path="react.d.ts" />

declare module myLib {
	export interface AccountDialogProps {
		firstName: string;
		lastName: string;
	}
	export function AccountDialog({ firstName, lastName }: AccountDialogProps): React.JSX.Element;

	export function renderAlertDialog(): void;
	export function renderAccountDialog(props: AccountDialogProps, container: HTMLElement): Promise<void>;
}
```

–ù–æ –Ω–µ—Ç –Ω–∏—á–µ–≥–æ –±–æ–ª–µ–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ —á–µ–º –≤—Ä–µ–º–µ–Ω–Ω–æ–µ, –ø–æ—ç—Ç–æ–º—É –Ω–∏—á–µ–≥–æ –º–µ–Ω—è—Ç—å –≤ –∏—Ç–æ–≥–µ –Ω–µ —Å—Ç–∞–ª–∏. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–µ —Ç–∏–ø—ã –Ω–µ —Å–æ–≤—Å–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã, –Ω–æ –Ω–∞–º –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ –æ–Ω –¥–∞—ë—Ç –±–∞–∑–æ–≤—ã–µ –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –∏ –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤.

## –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º ‚Äî Zustand

–ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —É –Ω–∞—Å –≤–æ–æ–±—â–µ –Ω–µ –±—ã–ª–æ —Å—Ç–µ–π—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–∞, –≤–µ—Å—å –∫–æ–¥ –º—ã –ø–∏—Å–∞–ª–∏ –Ω–∞ useState/useReducer + useContext. –ù–æ –≤ —ç—Ç–æ–º –ø–æ–¥—Ö–æ–¥–µ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ–±–ª–µ–º:
- useContext –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—Ç–æ–º–∞—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –í useReducer –Ω–µ–ª—å–∑—è –≤—ã–Ω–µ—Å—Ç–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É

–í –∫–∞—á–µ—Å—Ç–≤–µ —Å—Ç–µ–π—Ç–º–µ–Ω–µ–¥–∂–µ—Ä–∞ –º—ã –≤—ã–±—Ä–∞–ª–∏ Zustand. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ –µ–≥–æ ‚Äî [–º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å –∑–¥–µ—Å—å](https://t.me/cherkashindev/124), –Ω–æ –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–∏—á–∏–Ω–∞ ‚Äî –µ–≥–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ React, –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞.

–í—ã–≥–ª—è–¥–∏—Ç —ç—Ç–æ —Ç–∞–∫:

```ts
// src/stores/AppStore.ts
import { create } from 'zustand'

const useBearStore = create((set) => ({
  bears: 0,
  increasePopulation: () => set((state) => ({ bears: state.bears + 1 })),
  removeAllBears: () => set({ bears: 0 }),
}))

// library.tsx
// ...
// –ü—Ä–∏ —ç–∫—Å–ø–æ—Ä—Ç–µ AppStore –∏–∑ library.tsx –ø–æ–ø–∞–¥—ë—Ç –≤ –æ—Å–Ω–æ–≤–Ω–æ–π –±–∞–Ω–¥–ª
export { useAppStore as AppStore } from './stores/AppStore';

//...
```

–¢–µ–ø–µ—Ä—å –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —á–∞—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å AppStore:

```ts
myLib.AppStore.increasePopulation();
```

## –°—Ç–∏–ª–∏

–í –Ω–æ–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π –ø–æ–¥—Ö–æ–¥ ‚Äî –≤—Å—ë, —á—Ç–æ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É ‚Äî –∫–ª–∞–¥—ë–º —Ä—è–¥–æ–º:
- –∫–æ–¥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- —Å—Ç–∏–ª–∏
- —Ç–µ—Å—Ç—ã
- –∏—Å—Ç–æ—Ä–∏–∏ —Å—Ç–æ—Ä–∏–±—É–∫–∞

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ LESS-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –º–∏–∫—Å–∏–Ω—ã –≤ –Ω–æ–≤–æ–º –ø—Ä–æ–µ–∫—Ç–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º [pnpm-–º–æ–Ω–æ—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π](https://pnpm.io/workspaces). –î–ª—è —ç—Ç–æ–≥–æ –º—ã —Å–æ–∑–¥–∞–ª–∏ `package.json` –≤ –ø–∞–ø–∫–µ —Å–æ —Å—Ç–∏–ª—è–º–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ –∏ –¥–æ–±–∞–≤–∏–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ —Ä–µ–∞–∫—Ç –ø—Ä–æ–µ–∫—Ç–µ:

```json
...
	"legacy-styles": "workspace:*"
...
```

–ò –¥–∞–ª–µ–µ –ø—Ä–æ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω—É–∂–Ω—ã–π –Ω–∞–º —Ñ–∞–π–ª –≤ —Å—Ç–∏–ª—è—Ö.

```less
@import (reference) '~legacy-styles/themes/tokens.less';
```

 –¢–∏–ª—å–¥–∞ `~` –ø–µ—Ä–µ–¥ `legacy-styles` –≥–æ–≤–æ—Ä–∏—Ç –≤–µ–±–ø–∞–∫—É, —á—Ç–æ —Å—Ç–∏–ª–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `node_modules`.

# –ü–µ—Å–æ—á–Ω–∏—Ü–∞

–ü–æ–º–Ω–∏—Ç–µ —è –≥–æ–≤–æ—Ä–∏–ª, —á—Ç–æ –º—ã –æ—Å—Ç–∞–≤–∏–ª–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å–∫–∞—Ç—å CRA –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?
–ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –Ω–µ—Ç Hot Reload'–∞ üòÆ. –≠—Ç—É —Å–∏—Ç—É–∞—Ü–∏—é –º—ã —Ç–∞–∫–∂–µ —Å–º–æ–≥–ª–∏ –Ω–µ–º–Ω–æ–≥–æ —É–ª—É—á—à–∏—Ç—å.

–ö–æ–≥–¥–∞ –º—ã –∑–∞–ø—É—Å–∫–∞–µ–º `pnpm run build` –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—Å—ë —Ç–æ, —á—Ç–æ —è –æ–ø–∏—Å–∞–ª –≤—ã—à–µ. –ù–æ –ø—Ä–∏ `pnpm start` –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —Ä–µ–∞–∫—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ. –ú—ã –Ω–∞–∑—ã–≤–∞–µ–º –µ–≥–æ –ø–µ—Å–æ—á–Ω–∏—Ü–µ–π. –ü–æ —Ç–æ–π –∂–µ –ø—Ä–∏—á–∏–Ω–µ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å—Ç–æ—Ä–∏–±—É–∫, –Ω–æ –≤ –Ω—ë–º –Ω–µ–ª—å–∑—è –≤—ã–ø–æ–ª–Ω—è—Ç—å API –∑–∞–ø—Ä–æ—Å—ã. –ú—ã –¥–æ–±–∞–≤–∏–ª–∏ —Ä–µ–∞–∫—Ç —Ä–æ—É—Ç–µ—Ä, –∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Ñ–∏—á–∏ —Å–æ–∑–¥–∞—ë–º –ø–µ—Å–æ—á–Ω–∏—Ü—É –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ–º—É —É—Ä–ª—É.

# –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ï—Å–ª–∏ –ø–æ–¥–≤–æ–¥–∏—Ç—å –∏—Ç–æ–≥, —Ç–æ —Å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é –º–æ–∂–Ω–æ —Å–∫–∞–∑–∞—Ç—å, —á—Ç–æ –∫–æ–¥ —Å—Ç–∞–ª–æ –ø–∏—Å–∞—Ç—å –≤ —Ä–∞–∑—ã –ª–µ–≥—á–µ.

–ù–æ –≤–∞–∂–Ω–æ –ø–æ–º–Ω–∏—Ç—å, —á—Ç–æ –µ—Å–ª–∏ –≤ –≤–∞—à–µ–π –∫–æ–º–∞–Ω–¥–µ –Ω–µ –≤—Å–µ –∑–Ω–∞–∫–æ–º—ã —Å —Ä–µ–∞–∫—Ç –∏–ª–∏ —Å –¥—Ä—É–≥–æ–π –Ω–æ–≤–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π, –≤–∞–º –Ω—É–∂–Ω–æ –±—ã—Ç—å –æ—á–µ–Ω—å –æ—Å—Ç–æ—Ä–æ–∂–Ω—ã–º–∏ –∏ —Ç—â–∞—Ç–µ–ª—å–Ω–æ –¥–µ–ª–∞—Ç—å –∫–æ–¥ —Ä–µ–≤—å—é. –ú–∏–≥—Ä–∞—Ü–∏—è —Ç–∞–∫–∂–µ –Ω—É–∂–Ω–∞ –∏ –¥–ª—è –ø–æ–¥—Ö–æ–¥–∞, –∫–æ—Ç–æ—Ä—ã–π –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ª—é–¥–∏. –ï—Å–ª–∏ –≤—ã –ø–∏—à–µ—Ç–µ –Ω–∞ —Ä–µ–∞–∫—Ç–µ –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–µ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –∏–¥–µ–∞–ª—å–Ω—ã–º, –æ—á–µ–Ω—å –ª–µ–≥–∫–æ –Ω–∞–ø–∏—Å–∞—Ç—å –ø–ª–æ—Ö–æ–π –∫–æ–¥ –Ω–∞ –ª—é–±–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏.

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –æ–ø—ã—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Ä–µ–∞–∫—Ç –∏–ª–∏ –∏–¥–µ–∏ –∫–∞–∫ —ç—Ç–æ –º–æ–∂–Ω–æ –±—ã–ª–æ —Å–¥–µ–ª–∞—Ç—å –ª—É—á—à–µ ‚Äî —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö üôè.

–ö–æ–¥ –∏–∑ —Å—Ç–∞—Ç—å–∏ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –Ω–∞ [–≥–∏—Ç—Ö–∞–±–µ](https://github.com/acherkashin/webpack-lib).

–ï—Å–ª–∏ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å —Å—Ç–∞—Ç—å—è –ø–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞¬†[–º–æ–π —Ç–µ–ª–µ–≥—Ä–∞–º–º –∫–∞–Ω–∞–ª –æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∏ –Ω–µ —Ç–æ–ª—å–∫–æ](https://t.me/cherkashindev). 

