---
layout: ../../layouts/post.astro
title: C# Interactive - REPL
pubDate: 2020-09-26
excerpt: –ù–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç –Ω–∞–∑–∞–¥, —è –∑–∞–º–µ—Ç–∏–ª, —á—Ç–æ –≤ Visual Studio –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è –æ–∫–æ—à–∫–æ "C# Interactive". E—â—ë —Ç–æ–≥–¥–∞ —è —Å—Ç–∞–ª –¥–æ–≥–∞–¥—ã–≤–∞—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ REPL, –æ–¥–Ω–∞–∫–æ —Ç–æ–ª—å–∫–æ –Ω–µ–¥–∞–≤–Ω–æ —Ä–µ—à–∏–ª —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –æ–Ω–æ –∏–∑ —Å–µ–±—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏ –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ. –ü—Ä–µ–∂–¥–µ —á–µ–º –º—ã –ø–µ—Ä–µ–π–¥—ë–º, –∫ "–°# Interactive" –¥–∞–≤–∞–π—Ç–µ –∫—Ä–∞—Ç–∫–æ –æ–±—Å—É–¥–∏–º, —á—Ç–æ –∂–µ —Ç–∞–∫–æ–µ REPL.
description: '–ù–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç –Ω–∞–∑–∞–¥, —è –∑–∞–º–µ—Ç–∏–ª, —á—Ç–æ –≤ Visual Studio –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è –æ–∫–æ—à–∫–æ "C# Interactive". E—â—ë —Ç–æ–≥–¥–∞ —è —Å—Ç–∞–ª –¥–æ–≥–∞–¥—ã–≤–∞—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ REPL, –æ–¥–Ω–∞–∫–æ —Ç–æ–ª—å–∫–æ –Ω–µ–¥–∞–≤–Ω–æ —Ä–µ—à–∏–ª —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –æ–Ω–æ –∏–∑ —Å–µ–±—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏ –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ. –ü—Ä–µ–∂–¥–µ —á–µ–º –º—ã –ø–µ—Ä–µ–π–¥—ë–º, –∫ "–°# Interactive" –¥–∞–≤–∞–π—Ç–µ –∫—Ä–∞—Ç–∫–æ –æ–±—Å—É–¥–∏–º, —á—Ç–æ –∂–µ —Ç–∞–∫–æ–µ REPL.'
image:
  src:
  alt:
tags: ['csharp', '.net', 'scripts']
---

import TitledImage from '../../components/TitledImage.astro';

- [–ß—Ç–æ —Ç–∞–∫–æ–µ REPL?](#—á—Ç–æ-—Ç–∞–∫–æ–µ-repl)
- [–î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω REPL?](#–¥–ª—è-—á–µ–≥–æ-–Ω—É–∂–µ–Ω-repl)
- [DotNet Script](#dotnet-script)
- [–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏](#–ø–æ–ª–µ–∑–Ω—ã–µ-—Å—Å—ã–ª–∫–∏)

–ù–µ—Å–∫–æ–ª—å–∫–æ –ª–µ—Ç –Ω–∞–∑–∞–¥, —è –∑–∞–º–µ—Ç–∏–ª, —á—Ç–æ –≤ Visual Studio –ø–æ—è–≤–∏–ª–∞—Å—å –Ω–æ–≤–∞—è –æ–∫–æ—à–∫–æ "C# Interactive". E—â—ë —Ç–æ–≥–¥–∞ —è —Å—Ç–∞–ª –¥–æ–≥–∞–¥—ã–≤–∞—Ç—å—Å—è, —á—Ç–æ —ç—Ç–æ REPL, –æ–¥–Ω–∞–∫–æ —Ç–æ–ª—å–∫–æ –Ω–µ–¥–∞–≤–Ω–æ —Ä–µ—à–∏–ª —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, —á—Ç–æ –æ–Ω–æ –∏–∑ —Å–µ–±—è –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –∏ –≤ –∫–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–Ω–æ. –ü—Ä–µ–∂–¥–µ —á–µ–º –º—ã –ø–µ—Ä–µ–π–¥—ë–º, –∫ "–°# Interactive" –¥–∞–≤–∞–π—Ç–µ –∫—Ä–∞—Ç–∫–æ –æ–±—Å—É–¥–∏–º, —á—Ç–æ –∂–µ —Ç–∞–∫–æ–µ [REPL](https://en.wikipedia.org/wiki/Read%E2%80%93eval%E2%80%93print_loop)

## –ß—Ç–æ —Ç–∞–∫–æ–µ REPL?

<TitledImage src="/public/csharp-repl/repl-meme.png" alt=""/>

REPL –∏–ª–∏ "read-eval-print loop" - —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ), –≤ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –Ω–∞ —è–∑—ã–∫–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è, –∞ REPL, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å, —Å—á–∏—Ç—ã–≤–∞–µ—Ç (Read) –µ–≥–æ, –≤—ã–ø–æ–ª–Ω—è–µ—Ç (Eval) –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç (Print), –∞ –∑–∞—Ç–µ–º —ç—Ç–æ—Ç –ø—Ä–æ—Ü–µ—Å—Å —Å–Ω–æ–≤–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è (Loop). –í—Å—ë –ø—Ä–æ—Å—Ç–æ, –Ω–µ —Ç–∞–∫ –ª–∏? –ê —á—Ç–æ–±—ã –±—ã–ª–æ –µ—â—ë –ø—Ä–æ—â–µ –≤–æ—Ç –Ω–µ–±–æ–ª—å—à–æ–π –ø—Ä–∏–º–µ—Ä.

<TitledImage src="/public/csharp-repl/repl-example.gif" alt=""/>

–ê–±–±—Ä–µ–≤–∏–∞—Ç—É—Ä–∞ REPL —Å–ª–æ–∂–∏–ª–∞—Å—å –∏–∑ –Ω–∞–∑–≤–∞–Ω–∏–π —Ñ—É–Ω–∫—Ü–∏–π —è–∑—ã–∫–∞ LISP, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä—ã—Ö REPL —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ –∏ –±—ã–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω. –ü—Ä–∏–º–µ—Ä–Ω–æ –≤–æ—Ç —Ç–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç REPL –Ω–∞ —è–∑—ã–∫–µ LISP:

```clojure
(loop (print (eval (read))))
```

REPL –≤ C# –ø–æ—è–≤–∏–ª—Å—è –≤–º–µ—Å—Ç–µ —Å [Roslyn](<https://en.wikipedia.org/wiki/Roslyn_(compiler)>) –∏ –±–ª–∞–≥–æ–¥–∞—Ä—è –µ–º—É, —Ç–∞–∫ –∫–∞–∫ Rolsyn –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–ª—Å—è —Å —Ü–µ–ª—å—é –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–æ–º. –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è Rolsyn –∏ –æ —Å–ø–æ—Å–æ–±–∞—Ö –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å [–∑–¥–µ—Å—å](https://docs.microsoft.com/en-us/archive/blogs/cdndevs/adding-c-scripting-to-your-development-arsenal-part-1). –¢–∞–º –∂–µ –≤ –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–µ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π —Å–ø–æ—Å–æ–± —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ REPL –Ω–∞ C#.

```cs
class Program
{
    static void Main(string[] args)
    {
        ScriptState<object> scriptState = null;

        while (true)
        {
            Console.Write("* ");
            var input = Console.ReadLine();
            scriptState = scriptState == null ?
                CSharpScript.RunAsync(input, ScriptOptions.Default.AddImports("System")).Result :
                scriptState.ContinueWithAsync(input).Result;
        }

        Console.ReadLine();
    }
}
```

## –î–ª—è —á–µ–≥–æ –Ω—É–∂–µ–Ω REPL?

–¢–µ–ø–µ—Ä—å –≤—ã –∑–Ω–∞–µ—Ç–µ, —á—Ç–æ —Ç–∞–∫–æ–µ REPL, –Ω–æ —è –¥—É–º–∞—é, —Å–µ–π—á–∞—Å –≤ –≤–∞—à–µ–π –≥–æ–ª–æ–≤–µ –ø—Ä–∏–º–µ—Ä–Ω–æ —Å–ª–µ–¥—É—é—â–∏–µ –º—ã—Å–ª–∏ "–û–∫–µ–π, REPL, –∫—Ä—É—Ç–æ, –∞ –∑–∞—á–µ–º?". –ò —ç—Ç–æ —Å–∞–º—ã–π –≥–ª–∞–≤–Ω—ã–π –≤–æ–ø—Ä–æ—Å, –≤–µ–¥—å –∫–∞–∂–¥—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–æ–ª–∂–µ–Ω —Ä–µ—à–∞—Ç—å –∫–∞–∫–∏–µ-—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ, REPL –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º –º–≥–Ω–æ–≤–µ–Ω–Ω–æ —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–¥–∞, –±–µ–∑ –æ–∂–∏–¥–∞–Ω–∏—è –µ–≥–æ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏. –ö —Ç–æ–º—É –∂–µ –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç, —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–º –ø–∞—Ä—É —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ (–£ –º–µ–Ω—è —Ü–µ–ª–æ–µ –∫–ª–∞–¥–±–∏—â–µ —Ç–∞–∫–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤).

–í—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å REPL, —á—Ç–æ–±—ã –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è –∏–ª–∏ –ø–æ–∏–≥—Ä–∞—Ç—å—Å—è —Å API, –µ—Å–ª–∏ –Ω–µ —É–≤–µ—Ä–µ–Ω—ã –≤ —Ç–æ–º, –∫–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç. –î–∞–≤–∞–π—Ç–µ –Ω–∞–∫–æ–Ω–µ—Ü-—Ç–æ –æ—Ç–∫—Ä–æ–µ–º Visual Studio (–µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Rider, —Ç–æ —Ç–∞–º —Ç–æ–∂–µ –µ—Å—Ç—å –æ–∫–Ω–æ "C# Interactive") –∏ –∑–∞–ø—É—Å—Ç–∏–º REPL, –µ–≥–æ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ –ø–æ –ø—É—Ç–∏ "View > Other Windows > C# Interactive".

<TitledImage src="/public/csharp-repl/csharp-interactive-path.png" alt=""/>


–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏–º, —á—Ç–æ –º—ã –∑–∞–±—ã–ª–∏, –º—É—Ç–∏—Ä—É–µ—Ç –ª–∏ –æ–±—ä–µ–∫—Ç –º–µ—Ç–æ–¥ `Concat` —Ç–∏–ø–∞ `List<int>`. –¢—É—Ç –Ω–∞–º –∏ –ø–æ–º–æ–∂–µ—Ç REPL.

<TitledImage src="/public/csharp-repl/list-concat-example.gif" alt=""/>

–ö–∞–∫ –≤–∏–¥–Ω–æ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞, –º–µ—Ç–æ–¥ `Contact` –Ω–µ –º—É—Ç–∏—Ä—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–ø–∏—Å–æ–∫, –∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ–≤—ã–π, –≤ –∫–æ—Ç–æ—Ä–æ–º —Å–æ–¥–µ—Ä–∂–∞—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç—ã —Å–ø–∏—Å–∫–æ–≤ `list1`, `list2`. –ù–µ–æ–±—Ö–æ–¥–∏–º–æ –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—å —Ç–æ—Ç —Ñ–∞–∫—Ç, —á—Ç–æ –¥–ª—è —Ç–æ–≥–æ —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—ã—Ä–∞–∂–µ–Ω–∏—è, –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –æ–Ω–æ –Ω–µ –æ–∫–∞–Ω—á–∏–≤–∞–ª–æ—Å—å —Ç–æ—á–∫–æ–π —Å –∑–∞–ø—è—Ç–æ–π, –∏–Ω–∞—á–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–≤–µ–¥–µ–Ω –Ω–µ –±—É–¥–µ—Ç. –ö–∞–∫ –≤—ã –º–æ–≥–ª–∏ –∑–∞–º–µ—Ç–∏—Ç—å, –≤ C# Interactive —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏–≤—ã—á–Ω—ã–π –Ω–∞–º IntelliSense, —á—Ç–æ –≥–æ—Ä–∞–∑–¥–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É.

–ö —Å—á–∞—Å—Ç—å—é, —ç—Ç–æ –Ω–µ –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ C# Interactive, –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ —Ç–∞–∫–∂–µ –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫. –û–¥–Ω–∞–∫–æ, –æ–Ω –Ω–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–ø—Ä—è–º—É—é —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –ø–∞–∫–µ—Ç–æ–≤ Nuget, –ø–æ—ç—Ç–æ–º—É –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ —Å–∫–∞—á–∞—Ç—å –Ω—É–∂–Ω—É—é –≤–∞–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∏–ª–∏, –µ—Å–ª–∏ –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–∑—É—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ, –º–æ–∂–Ω–æ –ø—Ä–æ—Å—Ç–æ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ –Ω–µ–π —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:

```cs
#r "...\path\library.dll"
```

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∫–∞–∫ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å C# Interactive –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è API –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ [Octokit](https://octokitnet.readthedocs.io/en/latest/).

<TitledImage src="/public/csharp-repl/Octokit-usage.png" alt=""/>

–¢–∞–∫–∂–µ –Ω—É–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ –≤–∞–º –Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å Visual Studio, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å REPL. –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å _Developer Command Prompt for VS_ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `csi`.

<TitledImage src="/public/csharp-repl/csi-util.png" alt=""/>

C# Repl –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ Windows. –ù–∞ Linux –∏ Mac –º–æ–∂–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è [Mono C# Repl](https://www.mono-project.com/docs/tools+libraries/tools/repl/).

## DotNet Script

C# Interactive —è–≤–ª—è–µ—Ç—Å—è –Ω–µ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–º REPL –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º –¥–ª—è C#, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –µ—â—ë –º–∏–Ω–∏–º—É–º 2:

- [Script-CS](http://scriptcs.net/)
- [DotNet-Script](https://github.com/filipw/dotnet-script)

–î–∞–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–æ–∑–≤–æ–ª—è—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º –ø–∞–∫–µ—Ç–æ–≤ Nuget. –ù–æ –≤ –¥–∞–Ω–Ω–æ–π —Å—Ç–∞—Ç—å–µ —è —Ä–∞—Å—Å–º–æ—Ç—Ä—é —Ç–æ–ª—å–∫–æ [DotNet-Script](https://github.com/filipw/dotnet-script).

–î–∞–≤–∞–π—Ç–µ –∑–∞–ø—É—Å—Ç–∏–º —Ç–æ—Ç –∂–µ —Å–∞–º—ã–π –ø—Ä–∏–º–µ—Ä —Å –±–∏–±–ª–∏–æ—Ç–µ–∫–æ–π Octokit, –∏—Å–ø–æ–ª—å–∑—É—è DotNet Script (–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–µ dotnet script –º–æ–∂–Ω–æ –ø–æ—á–∏—Ç–∞—Ç—å [–∑–¥–µ—Å—å](https://github.com/filipw/dotnet-script)).

<TitledImage src="/public/csharp-repl/dotnet-script-ubuntu.png" alt=""/>

–î–ª—è –∑–∞–ø—É—Å–∫–∞ dotnet script –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤ –∫–æ–Ω—Å–æ–ª–∏ `dotnet script` –∏–ª–∏ `dotnet-script`. –ö–∞–∫ –≤—ã —É–∂–µ –∑–∞–º–µ—Ç–∏–ª–∏ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞, –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏–∑ Nuget –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–ª–µ–¥—É—é—â–∞—è –∑–∞–ø–∏—Å—å: `#r "nuget: <library>, <version>"`, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ - —ç—Ç–æ `#r "nuget: Octokit, 0.48.0"`. –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã –∑–∞–π–º–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä–æ–µ –≤—Ä–µ–º—è, —Ç–∞–∫ –∫–∞–∫ –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –Ω–æ –≤ –¥–∞–ª—å–Ω–µ–π—à–µ–º, –∑–∞–ø—É—Å–∫ –∫–æ–º–∞–Ω–¥—ã –±—É–¥–µ—Ç –∑–∞–Ω–∏–º–∞—Ç—å –≥–æ—Ä–∞–∑–¥–æ –º–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —Ç–∞–∫ –∫–∞–∫ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –±—É–¥–µ—Ç –∑–∞–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∞.

DotNet Script –∏—Å–ø–æ–ª—å–∑—É–µ—Ç .net core –∏ –ø–æ—ç—Ç–æ–º—É —è–≤–ª—è–µ—Ç—Å—è –∫—Ä–æ—Å–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω—ã–º, –±–ª–∞–≥–æ–¥–∞—Ä—è —á–µ–º—É –≤—ã –º–æ–∂–µ—Ç–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å –µ–≥–æ –Ω–∞ –ª—é–±–æ–π –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.

–û–¥–Ω–∞–∫–æ, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å intellisense –¥–ª—è dotnet script –≤–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä, [–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—â–∏–π OmniSharp](http://www.omnisharp.net/). –Ø –ø–æ–∫–∞–∂—É –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —É–∂–µ –∑–Ω–∞–∫–æ–º–æ–≥–æ –Ω–∞–º, –ø—Ä–∏–º–µ—Ä–∞ —Å Octokit –≤ Visual Studio Code. –î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–º –Ω—É–∂–Ω–æ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç dotnet script —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `dotnet script init`.

<TitledImage src="/public/csharp-repl/dotnet-script-init.png" alt="–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ DotNet Script"/>

–ó–∞—Ç–µ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å [C# Extension](https://marketplace.visualstudio.com/items?itemName=ms-dotnettools.csharp) –¥–ª—è Visual Studio Code. –ü–æ—Å–ª–µ —á–µ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Å—Ç–∞–≤–∏—Ç—å —É–∂–µ –∑–Ω–∞–∫–æ–º—ã–π –Ω–∞–º –ø—Ä–∏–º–µ—Ä –≤ —Ñ–∞–π–ª `main.csx`.

```csharp
#!/usr/bin/env dotnet-script
#r "nuget: Octokit, 0.48.0"
using Octokit;
var github = new GitHubClient(new ProductHeaderValue("CherkashinBlogPost"));
var user = await github.User.Get("acherkashin");
Console.WriteLine($"{user.Followers} folks follow acherkashin");
Console.WriteLine(user.Blog);

var pullRequests = await github.PullRequest.GetAllForRepository("storybookjs", "storybook");
Console.WriteLine(pullRequests.Count());

var lastPR = pullRequests.Where(x => x.CreatedAt > DateTimeOffset.Now.Subtract(TimeSpan.FromDays(2)));
foreach(var q in lastPR) {
    Console.WriteLine($"{q.CreatedAt}...{q.User.Login}...{q.Title}");
}
```

–ö–∞–∫ –≤—ã –º–æ–∂–µ—Ç–µ —É–≤–∏–¥–µ—Ç—å –∏–∑ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ –Ω–∏–∂–µ, intellisense –≤ VsCode —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫–∂–µ —Ö–æ—Ä–æ—à–æ –∫–∞–∫, –∏ –≤ Visual Studio.

<TitledImage src="/public/csharp-repl/vscode-intellisense.png" alt="IntelliSence –≤ Vs Code"/>

–ò—Ç–∞–∫, –≤ –Ω–∞—á–∞–ª–µ —è —Å–∫–∞–∑–∞–ª, —á—Ç–æ –≤–∞–º –Ω–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—É—Å—Ç–æ–π –ø—Ä–æ–µ–∫—Ç, –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∫–æ–π-—Ç–æ –∫—É—Å–æ–∫ –∫–æ–¥–∞ –∏–ª–∏ –ø–æ–∏–≥—Ä–∞—Ç—å—Å—è —Å API –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –∞ –≤ –∏—Ç–æ–≥–µ –¥–µ–ª–∞—é –≤—Å—ë —Å —Ç–æ—á–Ω–æ—Å—Ç—å –¥–æ –Ω–∞–æ–±–æ—Ä–æ—Ç. –î–µ–ª–æ –≤ —Ç–æ–º, —á—Ç–æ dotnet script –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –Ω–µ —Ç–æ–ª—å–∫–æ REPL, –Ω–æ –∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π —Å–∫—Ä–∏–ø—Ç–æ–≤—ã–π —è–∑—ã–∫. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ —Å–≤–æ—ë–º –ª—é–±–∏–º–æ–º —è–∑—ã–∫–µ üòâ –∏ –∑–∞–±—ã—Ç—å –æ –∏–∑—É—á–µ–Ω–∏–∏ bash, python, PowerShell... –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ–± —ç—Ç–æ–º –≤—ã –º–æ–∂–µ—Ç–µ —É–∑–Ω–∞—Ç—å –≤ —Å—Ç–∞—Ç—å–µ [Hitchhiker‚Äôs Guide to the C# scripting](https://itnext.io/hitchhikers-guide-to-the-c-scripting-13e45f753af9).

–ù–∞–ø–æ—Å–ª–µ–¥–æ–∫ —Ö–æ—á–µ—Ç—Å—è –æ—Ç–º–µ—Ç–∏—Ç—å, —á—Ç–æ dotnet scripts —Ç–∞–∫–∂–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –≤—ã —Å–º–æ–∂–µ—Ç–µ –Ω–µ —Ç–æ–ª—å–∫–æ –ø–∏—Å–∞—Ç—å —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞ C#, –Ω–æ –∏ —É–¥–æ–±–Ω–æ –æ—Ç–ª–∞–∂–∏–≤–∞—Ç—å –∏—Ö.

<TitledImage src="/public/csharp-repl/debugging.png" alt="–û—Ç–ª–∞–¥–∫–∞ main.csx —Ñ–∞–π–ª–∞ –≤ Visual Studio Code"/>

–ï—Å–ª–∏ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –¥–∞–Ω–Ω–∞—è —Ç–µ–º–∞, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥—Ä–æ–±–Ω–µ–µ –ø–æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å dotnet scripts –≤ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç–∞—Ç—å–µ [C# REPL for .NET Core 2.0 and #load support from Nuget ‚Äì dotnet-script 0.16 is out](https://www.strathweb.com/2017/12/c-repl-for-net-core-2-0-and-load-support-from-nuget-0-16-dotnet-script-is-out/).

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Using C# code in your git hooks](https://medium.com/@kaylumah/using-c-code-in-your-git-hooks-66e507c01a0f)
- [–°—Å—ã–ª–∫–∞ –Ω–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π dotnet-script](https://github.com/filipw/dotnet-script)
- [–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π C#](https://habr.com/ru/post/273037/)
- [Introducing the Visual Studio 'C# REPL'](https://channel9.msdn.com/Events/Visual-Studio/Connect-event-2015/103?WT.mc_id=-blog-scottha)
- [C# Scripting with VSCode ‚Äî A recipe](https://medium.com/@iliasshaikh/c-scripting-with-vscode-a-recipe-c672dd44d6)
- [Hitchhiker‚Äôs Guide to the C# scripting](https://itnext.io/hitchhikers-guide-to-the-c-scripting-13e45f753af9)
